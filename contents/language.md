# 운영체제

<br />

-----------------------

### 한컴오피스 '한글'을 클릭 후 빈 화면어 커서가 깜빡이고 있다. 이때 hello world를 작성하면 컴퓨터 내부에서 어떤일이 발생하는가?

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

- 키보드에서 사용자 입력이 들어오면 키보드 컨트롤러가 인터럽트를 발생시켜 CPU에게 키가 입력되었다는 사실을 알려준다.
- CPU는 현재 수행중이던 작업의 상태를 저장하고 인터럽트 요청을 처리하기 위해 OS내에 정의된 키보드 인터럽트 처리 루틴을 찾아간다.
- 키보드 인터럽트 처리 루틴은 키보드로 부터 입력받은 내용을 메모리의 특정 부분에 저장해 해당 프로그램에게 키보드 입력이 들어왔음을 알리며 인터럽트 처리를 완료한다.
- 인터럽트 처리가 끝나면 인터럽트가 발생하기 직전 상태를 복구시켜 중단되었던 작업을 재개한다.

</details>

-----------------------

<br />

-----------------------

### Process와 Thread 차이점을 설명하세요.

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

- 먼저 한가지 상황을 가정해보면 한 Server에서 같은 일을 수행하는 프로세스를 매번 fork 해서 만든다고 해보자. 이런 상황이 존재한다면 매번 동일한 코드를 복사하여 일을 수행하는 비효율적인 모습을 상상할 수 있다. fork를 하게 되면 PCB, 주소복사 등등 해줄 일이 많다. 그래서 등장한게 쓰레드인데 한 프로세스 내에서 독립적인 일을 수행해준다.
- 쓰레드는 레지스터와 스택을 제외하고는 모두 공유하여 사용하게 된다. 이렇게 될 경우 한가지 쓰레드가 I/O를 수행할 때 다른 쓰레드는 다른일을 하는 식으로 일을 좀 더 효율적으로 수행할 수 있게 된다. 그리고 요즘같이 multi-processor 환경을 갖춘 상태에서는 쓰레드로 각 CPU에 일을 할당해서 수행해 줄 수 있게 된다.

</details>

-----------------------

<br />

-----------------------

### Process와 Program 차이점을 설명하세요.

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

- 실행 상태에 있는 것을 프로세스
- 하드디스크 안에 있는 것을 프로그램

</details>

-----------------------

<br />

-----------------------

### 인터럽트에 대해서 설명하세요

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

Trap 은 S/W적으로 발생하는 인터럽트를 가리키는 명칭으로 알고있습니다. 예로 System Call, Segmentation fault 같은게 있습니다.
인터럽트는 컨트롤 씨를 누를때 처럼 H/W에서 발생하는 것을 명칭 하는 것으로 알고 있습니다.

인터럽트는 장치 내에서 예외상황이 발생하여 처리가 필요할 때 사용하는 것을 말합니다. interrupt vector에 그러한 인터럽트 신호가 오게 될 때 처리해야 하는 동작을 가리키는 주소를 적어놔 관리하게 됩니다. 무조건 우선적으로 처리되게 됩니다.


__하드웨어 인터럽트__
- 각종 하드웨어 장치들이 CPU에게 서비스를 받아야 하는 경우 발생.
- 인터럽트 라인을 통해 CPU에게 전달

__소프트웨어 인터럽트__
- 프로그램이 잘못된 연산을 수행할 경우 이에 대한 적절한 처리를 위해 사용되는 예외 상황 처리
- 자신이 작성하지 않은 코드를 운영체제로부터 서비스를 받기 위해 발생시키는 시스템콜(이를 트랩이라고 합니다.)

</details>

-----------------------

<br />

-----------------------

### DMA 존재 이유에 대해서 설명하세요

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

- 모든 메모리 접근 연산이 CPU에 의해서만 이루어질 경우 주변 장치가 메모리 접근을 원할 때마다 인터럽트를 통해 CPU 업무가 방해를 받게 되어 CPU의 사용의 효율성이 떨어지는 문제가 발생한다. 
- DMA는 일종의 컨트롤러로서 CPU가 주변 장치들의 메모리 접근 요청에 의해 자주 인터럽트당하는 것을 막아주는 역할을 한다.
- DMA를 사용하면 로컬 버퍼에서 메모리로 읽어오는 작업을 CPU가 담당하는 것이 아니라, DMA가 대행하므로서 CPU는 원래 하던 작업을 멈추고 인터럽트를 처리할 필요가 없어지는 것이다. 

</details>

-----------------------

<br />

-----------------------

### 운영체제는 다중 유저가 하나의 컴퓨터의 자원을 사용할 때 자원의 '보호'를 합니다. 어떠한 보호를 하는지 설명하고 시나리오를 설명하세요

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

크게 세 부분으로 나눌 수 있습니다.

__[1] 입출력장치 보호__
- A가 프린터에 인쇄를 요청하여 프린터가 A의 작업을 수행 중일 때 B가 프린터 요청을 하면 A의 작업 이후에 B의  작업을 수행해야합니다.
- 이와 관계된특권 명령(in, out) 명령은 에플리케이션에서 하는 것이 아닌 운영체제가 수행합니다. 

- 공통점
  
  -  `key-value 쌍` 으로 데이터를 저장한다는 면에서는 동일하다.
- 차이점
   - HashTable: 멀티 스레드 환경에서 안전(thread safe)하게 객체를 추가, 삭제할 수 있다. 
   -  HashMap: 빠른 대신에 동기화의 문제가 있으며 이를 해결하기 위한 두 가지 방법이 있다.
      - `ConcurrentHashMap` 사용
      - `Collections.synchronizedMap` 사용

__[3] CPU 보호__
- while ( n = 1) 과 같이 실수 혹은 고의로  하나의 프로세스가 CPU시간을 독점하는 일을 방지해야합니다.
- 일정 주기로 CPU에게 타이머가 인터럽트를 걸도록 회로를 설계합니다. 인터럽트를 걸면 CPU는 지금 하는 일을 멈추고 인터럽트 서비스 루틴으로 넘어갑니다. 이 코드에는 CPU 시간이 다른 모든 프로세스에게 골고루 가는지, 한 놈에게 집중되는지 체크합니다.

</details>

-----------------------

<br />

-----------------------

### synchronized에 대해 아는 바를 전부 이야기하세요.

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

Topic
- 멀티스레딩 상황의 제어를 위해 synchronized를 적극 활용.
- 어떤 멀티스레드 상황이었는지, 왜 synchronized를 썼는지, synchronized가 mutex를 어떻게 보장하는지
- 내부적으로 어떻게 구현했는지, 다른 방법은 없었는지, 다른 방법과 synchronized를 비교했을 때의 장단점은 무엇인지, 
- 특정 상황을 제시한 뒤 이 경우라면 어떻게 적용시킬 수 있을 것인지

</details>

-----------------------

<br />



<br />


----------------------------------------

### 함수호출과 시스템 콜의 차이에 대해서 설명하세요.

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

- 함수호출 : 자신이 작성한 함수 혹은 라이브러리에 저장된 함수를 호출하는 것
- 시스템 콜 : 운영체제에 정의된 함수를 호출하는 것

</details>

-----------------------

<br />

<br />



----------------------------------------

### interface와 abstract에 대해서 설명하세요. - 1편

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>

<br />

#### 1) `interface` 

✅ 무엇인가? 

​	=> 추상 메서드, static, final 변수만 사용할 수 있는 객체로 생성이 되는 선언들의 집합이다.

✅ 왜 쓰는가?

​	=> 다중 상속을 가능하게 해준다.

​	제언 : **C++은 다중 상속이 가능하나 Java는 기본적으로 단일 상속만 허용한다. 하지만 인터페이스를 사용한다면 다중 상속을 할 수 있다.**

​	=> 상속받는 클래스는 추상 클래스의 메서드 또는 변수가 있음을 보장한다.

✅ 어떻게 쓰나?

```java
// 선언
public interface Person{
  public static final String name = "홍길동";    // 변수 선언 (public, static, final 생략해도 자동)
  public void eat();                           // 메서드 선언
}

// 사용
public class Student implements Person{
  public void study(){            // 메서드 선언
    // some code here 
  }
  public void eat(){              // 오버라이딩
    // some code here 
  }
  
}
```

<br />

#### 2) `abstract` 

✅ 무엇인가?

​	=> 자체로는 객체 생성이 되지 않는, 상속을 받아 사용하는 클래스이다.

✅ 왜 쓰는가?

​	=> 추상 클래스는 일반 메서드를 구현할 수 있기 때문에 추상 클래스를 상속하는 클래스의 경우 추상클래스의 일반 메서드를 사용할 수 있다. 따라서 공통적으로 구현해야 하는 메소드의 경우 추상클래스의 일반 메소드에 구현하여 DRY 원칙을 지킬 수 있다.

​	=> 상속받는 클래스는 추상 클래스의 메서드 또는 변수가 있음을 보장한다.

​	=> non-static, non-final 변수를 사용할 수 있어 객체의 상태를 수정할 수 있다.

✅ 어떻게 쓰나?

```java
// 선언
public abstract class Person{
  public abstract void eat();  // 추상 메서드
  public void work(){	         // 일반 메서드
    // some code here 
  }
}

// 상속
public class Student extends Person{
  public void eat(){           // 오버라이딩
    
  }
}
```

</details>


----------------------------------------











<br />
<br />



----------------------------------------

### interface와 abstract에 대해서 설명하세요. - 2편

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>


<br />

**가장 큰 차이점은**

인터페이스는 그 인터페이스를 구현하는 모든 구현체들은 인터페이스가 정의해둔 같은 기능을 구현하도록 강제 함에 있어 사용하며

추상클래스는 상속받는 클래스들의 공통적인 로직을 추상화시키고, 자식클래스들이 부모클래스를 확장시키기위해 사용합니다.

------

**어떻게 활용?**

```java
interface Remocon {
 public void on();
  public void off();
  public void upChannel();
  public void downChannel();
}

public class LGSmartRemocon implements Remocon {
  public void on() { 전원 켜짐 구현 }
  public void off() { 전원 켜짐 구현 }
  public void upChannel() { 채널 증가 구현 } 
  public void downChannel() { 채널 감소 구현 }
}

public class SamsungSmartRemocon implements Remocon {
  public void on() { 전원 켜짐 구현 }
  public void off() { 전원 켜짐 구현 }
  public void upChannel() { 채널 증가 구현 } 
  public void downChannel() { 채널 감소 구현 }
}
```

정부에서 리모콘의 스팩은 무조건 채널 전원켬, 끔, 채널 증가, 채널 감소가 있어야 전파인증을 내준다고 생각해 봅시다. 그러면 LG, Samsung은 Remocon 인터페이스를 만들고 무조건 채널 전원켬, 끔, 채널 증가, 채널 감소를 만들어야 할 것입니다.

추상클래스 예제는 https://velog.io/@foeverna/Java-추상클래스-예제 이게 제일 좋네요!

------

**속성**

1. 추상클래스는 **다중 상속이 불가하지만**, 인터페이스는 **다중 상속이 가능**하다.
2. 추상클래스는 **상태와 행위**를 가지지만, 인터페이스는 **행위**만 가진다.

인터페이스는 다중상속이 되고, 정의된 모든 행위를 구현해야하고요.

2의 이유 때문에 interface는 static, final 변수만 가능할 것입니다.

------

**DI로 본 스프링과 인터페이스 이야기**

- 스프링의 개념인 DI 에는 인터페이스를 주로 사용합니다.
- 스프링은 DI 를 하기 위해, Bean Factory 기능을 확장하여 IoC 컨테이너인 Application Context 가 `싱글톤 레지스트리` 를 사용하고 있기 떄문입니다.
- 싱글톤 레지스트리를 통해서 수 만개의 요청이 동시에 들어왔을 때 각 요청마다 새로운 객체 생성이 아닌 단일 객체를 사용하게 됩니다.
- DI에 추상클래스를 사용한다면, DI 를 하는 대상이 상태 를 가지기 때문에 멀티 쓰레드 환경에서 Thread safe 하지 않게 됩니다.



</details>


----------------------------------------



<br /><br />

<br />

----------------------------------------

### Java vs Python 에 대해서 설명 해보세요.

<details>
   <summary> 예비 답안 보기 (👈 Click)</summary>
<br />

<br />

|        | Java                                                         | Python                                                       |
| ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 메모리 | JVM에서 Garbage Collection을 수행하며,<br />대상은 heap영역. | [ Python Garbage Collection ]<br /><br />추가설명 필요.      |
| 실행   | [작동 방식]<br /><br />1) `컴파일러` : 모든 소스코드(.java) => 바이트코드(.class) <br />2) `JVM` : 운영체제에 맞는 기계어로 변환 <br /><br />=> 컴파일 시간이 소요되지만, 실행 속도는 빠름. | [작동 방식]<br /><br />1) `Interpreter` : 한 줄씩 해석하여 실행<br /><br />=> 실행 단계에서 해석되기 때문에, 실행 속도는 느림.<br />(변수 타입을 명시하지 않기 때문에, 검사하여 값을 사용해야 함.) |
| 자료형 | 정적유형 (타입선언 O)                                        | 동적유형 (타입선언 X)                                        |
| 스레딩 | 스레드 생성 및 제어와 관련된 <br />라이브러리 API를 제공하고 있기 때문에, <br />운영체제에 상관없이 멀티 스레드를 구현할 수 있음. | 인터프리터 언어이기 때문에, 싱글 스레드 이며,<br />별도 모듈을 이용 해야함. |

<br />

cf) <a href="https://soooprmx.com/archives/11330" target='_blank'>언어를 스크립트 언어, 인터프리트 언어로 구분하는 것이 옳은 방법일까?</a>



<br />

</details>

----------------------------------------

<br />





### 쓰레드세이프란?

</details>

-----------------------

<br />

-----------------------

### 스레드와 멀티스레드에 대해서 설명하세요.

<details>
   <summary> 예비답안 보기 (👈 Click)</summary>
<br />

> 스레드와 멀티스레드 주제는 면접에서 정말 중요한 주제입니다. L사의 경우 얼마나 써봤는지 꼬리 질문으로 등장한 전력이 있습니다. 요약 글로는 충분하지 않을 것입니다. C수준이 아니더라도 Java, Python 언어 레벨에서 돌려보면서 살펴볼법한 중요한 주제입니다. 자세하게 알고싶다면 [Covenant. 파이썬 코드로 보는 멀티스레드](https://covenant.tistory.com/231)를 참고하세요!

- 스레드
   - 프로세스 내에 실행 흐름 단위입니다.
   - 쓰레드는 프로세스에 할당된 메모리, CPU 등의 자원을 사용합니다.
   - Stack만 별도의 메모리를 할당하며 Code, Data, Heap은 쓰레드간 공유합니다.
   - 한 스레드의 결과가 다른 스레드에 영향 끼칩니다. 크롬 하나의 탭에 문제가 생기면 없으면 크롬 자체를 다시 실행해야 하는 경우가 있습니다.
   - 스레드의 경우 디버깅이 어렵기에 동기화 문제는 주의해서 구현해야합니다.

- 멀티 스레드
   - 한 개의 단일 어플리케이션(응용프로그램)은 여러 스레드로 구성 후 작업 처리해야합니다.
   - 한글에서 싱글 스레드를 사용한다면 프린트를 하는 경우 문서 수정은 불가능할 것입니다.
   - 프로세스를 생성하는 것은 고비용입니다. 스레드를 사용한다면 시스템 자원 소모 감소 및 처리량 증가시킬 수 있습니다.
   - 스레드는 이미 공유하고 있기에 프로세스를 사용했다면 생길 통신 부담이 감소합니다.
   - 멀티 스레드를 사용할 경우 디버깅이 어렵습니다. 자원 공유 문제(일명 교착상태)가 생깁니다.

</details>

-----------------------

<br />

-----------------------

### Virtual Memory에 대해서 설명하시고 사용했을 때 장점에 대해서 설명하세요.

> 답안 준비중입니다.

-----------------------

<br />

-----------------------

### Page Fault를 줄이는 방법에 대해서 설명하세요

> 답안 준비중입니다.

<br />

-----------------------

### OS에서 프로세스는 CPU와 메모리 사이에 MMU(Memory Management Unit)를 두어서 다른 프로세스에 접근할하지 못합니다. 그러나 GDB와 같은 디버거의 경우 다른 프로세스에 접근하여 절대적 메모리 주소와 값을 읽어올 수 있습니다. 어떻게 가능한지 동작 방식에 대해서 설명하세요.

> 답안 준비중입니다.

-----------------------

<br />

### 이중모드의 특징과 장점에 대해 설명하세요

> 답안 준비중입니다.

-----------------------

<br />

-----------------------

### 임계구역 문제가 무엇이고 어떻게 해결하는지 설명하시오

> 답안 준비중입니다.

-----------------------

<br />

### System Call에 대해서 설명하세요

> 답안 준비중입니다.

-----------------------

<br />

-----------------------

### 64비트와 32비트 차이는 무엇인가요? 

> 답안 준비중입니다.

-----------------------

<br />

-----------------------

### 마우스로 한글 바로가기를 클릭했을 때 컴퓨터에서 일어나는 모든 일에 대해서 설명하세요.

`Points: Interrupt, Process Scheduling, Disk Scheduling, Swapping, Thread`

> 답안 준비중입니다.

<br />
<br />
<div align=center>
  <hr />
    <h3> 용감한 친구들 with 남송리 삼번지 </h3>
  <hr />
</div>
   
